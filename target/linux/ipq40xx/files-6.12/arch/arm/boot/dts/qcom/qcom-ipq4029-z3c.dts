// SPDX-License-Identifier: GPL-2.0-only
// Device Tree Source for Meraki Z3C (Heart of Gold)

#include "qcom-ipq4029-wired-qca-common.dtsi"

/ {
	model = "Meraki Z3C LTE Router";
	compatible = "meraki,z3c";
	leds {
		compatible = "gpio-leds";

		power_orange: power {
			color = <LED_COLOR_ID_AMBER>;
			function = LED_FUNCTION_POWER;
			gpios = <&tlmm 49 GPIO_ACTIVE_LOW>;
			panic-indicator;
		};

		led-1 {
			/* WAN left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_WAN;
			function-enumerator = <0>;
			gpios = <&tlmm 46 GPIO_ACTIVE_LOW>;
		};

		led-2 {
			/* WAN right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_WAN;
			function-enumerator = <1>;
			gpios = <&tlmm 30 GPIO_ACTIVE_LOW>;
		};

		led-3 {
			/* port 2 left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <2>;
			gpios = <&tlmm 23 GPIO_ACTIVE_LOW>;
		};

		led-4 {
			/* port 2 right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <3>;
			gpios = <&tlmm 22 GPIO_ACTIVE_LOW>;
		};

		led-5 {
			/* port 3 left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <4>;
			gpios = <&tlmm 25 GPIO_ACTIVE_LOW>;
		};

		led-6 {
			/* port 3 right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <5>;
			gpios = <&tlmm 24 GPIO_ACTIVE_LOW>;
		};

		led-7 {
			/* port 4 left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <6>;
			gpios = <&tlmm 29 GPIO_ACTIVE_LOW>;
		};

		led-8 {
			/* port 4 right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <7>;
			gpios = <&tlmm 26 GPIO_ACTIVE_LOW>;
		};

		led-9 {
			/* port 5 left */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <8>;
			gpios = <&tlmm 33 GPIO_ACTIVE_LOW>;
		};

		led-10 {
			/* port 5 right */
			color = <LED_COLOR_ID_GREEN>;
			function = LED_FUNCTION_LAN;
			function-enumerator = <9>;
			gpios = <&tlmm 32 GPIO_ACTIVE_LOW>;
		};
	};

        gpio_export {
                compatible = "gpio-export";
                #size-cells = <0>;

                pse_en {
                        gpio-export,name = "pse_en";
                        gpio-export,output = <1>;
                        gpios = <&tlmm 28 GPIO_ACTIVE_LOW>;
                };

                lte_en {
                        gpio-export,name = "lte_en";
                        gpio-export,output = <1>;
                        gpios = <&tlmm 39 GPIO_ACTIVE_LOW>;
                };

                lte_rst {
                        gpio-export,name = "lte_rst";
                        gpio-export,output = <0>;
                        gpios = <&tlmm 41 GPIO_ACTIVE_HIGH>;
                };

                ble_rst {
                        gpio-export,name = "ble_rst";
                        gpio-export,output = <0>;
                        gpios = <&tlmm 42 GPIO_ACTIVE_HIGH>;
                };

                pse_det {
                        gpio-export,name = "pse_det";
                        gpio-export,input = <0>;
                        gpios = <&tlmm 43 GPIO_ACTIVE_LOW>;
                };

                ble_load {
                        gpio-export,name = "ble_load";
                        gpio-export,output = <1>;
                        gpios = <&tlmm 52 GPIO_ACTIVE_LOW>;
                };

                lte_estop {
                        gpio-export,name = "lte_estop";
                        gpio-export,output = <0>;
                        gpios = <&tlmm 61 GPIO_ACTIVE_HIGH>;
                };
        };
};

&wifi0 {
	status = "okay";
	qcom,ath10k-calibration-variant = "Meraki-Z3";
};

&wifi1 {
	status = "okay";
	qcom,ath10k-calibration-variant = "Meraki-Z3";
};
